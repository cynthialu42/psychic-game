<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Psychic Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src="./assets/javascript/game.js"></script>
</head>
<body>
    <div class="container">
      <div class="row">
        <div class="col-md-offset-2 col-md-8">
          <div class="jumbotron">
                <h1 id="title">Psychic Game!</h1>
                <h2>You chose:<span id="user-guess">...</span></h2>
                <h2>Computer chose:<span id="computer-guess">...</span></h2>
                <h2>Wins:<span id="win">...</span></h2>
                <h2>Losses:<span id="loss">...</span></h2>
                <h2>Tries:<span id="tries">...</span></h2>
          </div>
        </div>
      </div>
    </div>

    <!-- We have to put this at the end of our document to ensure the user-text
         span exists when we try to access it. -->
    <script type="text/javascript">
        let userGuess = document.getElementById("user-guess");
        let computerGuess = document.getElementById("computer-guess");
        let winTotal = document.getElementById("win");
        let lossTotal = document.getElementById("loss");
        let triesTotal = document.getElementById("tries");
        let title = document.getElementById("title");

        let computerChoices = ['a', 'b', 'c','d','e','f','g','h','i','j','k','l','m','n','o','p',
        'q','r','s','t','u','v','w','x','y','z'];
        let wins = 0;
        let loss = 0;
        let triesLeft = 10;
        document.onkeyup = function(e) {

        //innerHTML also works instead of textContent
        userGuess.textContent = e.key;
        computerGuess.textContent = computerChoices[Math.floor(Math.random()*computerChoices.length)];
        //document.getElementById("computer-guess").textContent = computerGuess;
        
        if (userGuess.textContent === computerGuess.textContent) {
            wins++;
            triesLeft--;
            winTotal.textContent = wins;
            triesTotal.textContent = triesLeft;
            if(triesLeft===0){
                location.reload();
            }
        }
        else {
            loss++;
            triesLeft--;
            lossTotal.textContent = loss;
            triesTotal.textContent = triesLeft;
            if(triesLeft===0){
                    location.reload();
                
            }

        }
        };
    </script>
</body>
</html>